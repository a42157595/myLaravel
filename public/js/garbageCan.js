(()=>{var t,e,n,o=[];function a(){$(".recovery").unbind(),$(".recovery").click((function(){t=$(this).closest(".card").attr("id"),Swal.fire({title:"確定要從垃圾桶中復原嗎?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"#d33",confirmButtonText:"復原"}).then((function(e){e.isConfirmed&&$.ajax({type:"post",url:"garbageCan/recovery/".concat(t),data:{_method:"put"},dataType:"json",success:function(e){e.status&&(data=n.find((function(e,n,o){return e.index=n,e.id==t})),n.splice(data.index,1))}})}))}))}$(document).ready((function(){$(".myTooltip").tooltip(),Vue.filter("stripHTML",(function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""})),Vue.component("note-template",{props:["post"],template:'\n        <div class="card" :id="post.id" v-bind:style="{backgroundColor: post.bgcolor}">\n        <div class="recovery myTooltip" :data-did="post.id" data-toggle="tooltip" data-placement="bottom" title="回復">\n        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n        <path d="M0 0h24v24H0V0z" fill="none"/>\n        <path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"/>\n        </svg>\n        </div>\n        <div class="cardContent">\n            {{ post.content | stripHTML }}\n        </div>\n    </div>\n        '}),$.ajax({type:"get",url:"garbageCan/index",dataType:"json",async:!1,success:function(t){n=t}}),$(".searchInput").focus((function(t){t.preventDefault(),$("#search").addClass("searchSelected"),$(this).addClass("inputSelected")})),$(".searchInput").blur((function(t){t.preventDefault(),$("#search").removeClass("searchSelected"),$(this).removeClass("inputSelected")})),$(".option").click((function(t){url=$(this).data("url"),"null"!=url&&window.location.replace("http://127.0.0.1:8000/".concat(url))})),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),e=new Vue({el:"#noteArea",data:{posts:n},updated:function(){a()},created:function(){a()}}),$(".searchForm").submit((function(t){t.preventDefault()})),$(".cearchBtn").click((function(t){search=$(".searchInput").val(),n.forEach((function(t){t.content.indexOf(search)>0&&o.push(t)})),e.posts=o})),$(".cearchCloseBtn").click((function(t){o=[],e.posts=n,$(".searchInput").val("")})),a()}))})();